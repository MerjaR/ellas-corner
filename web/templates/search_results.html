<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <!-- Navigation bar -->
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/filter">Filter</a></li>
            <li><a href="/profile">Profile</a></li>
            <li><a href="/logout">Logout</a></li>
        </ul>
    </nav>

    <main>
        <h1>Search Results for "{{ .SearchQuery }}"</h1>

        {{ if .Posts }}
        {{ range .Posts }}
        <div class="post">
            <div class="post-header" style="display: flex; align-items: center;">
                <!-- Profile picture of post author -->
                <img src="/static/profile_pictures/{{ .ProfilePicture }}" alt="Profile Picture" class="profile-picture-small" style="margin-right: 15px;">
                <h3>{{ .Title }}</h3>
            </div>
            <p>{{ .Content }}</p>
            <p><strong>Category:</strong> {{ .Category }}</p>
            <p><strong>Posted by:</strong> {{ .Username }} <strong>on</strong> {{ .FormattedCreatedAt }}</p>

            <!-- Reactions Section -->
            <div class="reactions-section">
                <!-- Like Button (Image) -->
                <form action="/react" method="POST" style="display:inline-block;">
                    <input type="hidden" name="post_id" value="{{ .ID }}">
                    <input type="hidden" name="reaction" value="like">
                    <button type="submit" style="border:none; background:none;">
                        <img src="/static/like.png" alt="Like" style="width:20px; height:20px;" class="{{ if eq .UserReaction "like" }}active-reaction{{ end }}">
                    </button>
                </form>
                <span>{{ .Likes }} Likes</span>

                <!-- Dislike Button (Image) -->
                <form action="/react" method="POST" style="display:inline-block; margin-left: 10px;">
                    <input type="hidden" name="post_id" value="{{ .ID }}">
                    <input type="hidden" name="reaction" value="dislike">
                    <button type="submit" style="border:none; background:none;">
                        <img src="/static/dislike.png" alt="Dislike" style="width:20px; height:20px;" class="{{ if eq .UserReaction "dislike" }}active-reaction{{ end }}">
                    </button>
                </form>
                <span>{{ .Dislikes }} Dislikes</span>
            </div>
        </div>
        {{ end }}
        {{ else }}
        <p>No posts found for "{{ .SearchQuery }}".</p>
        {{ end }}

    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Literary Lions Forum. All Rights Reserved.</p>
    </footer>

</body>
</html>